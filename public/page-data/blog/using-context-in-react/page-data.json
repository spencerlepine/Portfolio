{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/using-context-in-react/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Using Context in React\",\n  \"date\": \"2021-03-02\",\n  \"tags\": \"react,context,javascript,webdev,framework,code\",\n  \"description\": \"Learn this React feature and never drill props again.\",\n  \"image\": \"../images/using-context-in-react.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"function test() {\\n  return <MyComponent />\\n}\\n\")), mdx(\"h2\", null, mdx(\"strong\", {\n    parentName: \"h2\"\n  }, \"Why use Context?\")), mdx(\"p\", null, \"This React example will have an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<App />\"), \" component that may render anything from a profile picture to a button. A \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<Button />\"), \" component could be nested anywhere within the app, far down the render tree from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<App />\"), \". Context allows you to share a common value between components without having to handle a state in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<App />\"), \".\"), mdx(\"p\", null, \"Before, we might save the current theme in the state of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<App />\"), \", and pass it down children through props. Changing the state and handling the logic can cause recursive re-renders throughout your app. To solve this, we use the Context API to pass the \\u2018theme\\u2019 value directly to ONLY the components that need it.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Reusable Context Component:\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"We will implement React Context as a reusable file in a separate component.\")), mdx(\"p\", null, \"A themeContext.js file will handle the creation/access of Context. To initialize it, we will destructure Provider and Consumer after calling the createContext() from the React library.\"), mdx(\"p\", null, \"In this file, we create a ThemeContextProvider class-based component. This will allow us to save the \\u2018theme\\u2019 into state, and update it\\u2019s value later on. Whenever we use ThemeContextProvider, we will input a JSX element that can be accessed through \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"this.props.children\"), \".\"), mdx(\"p\", null, \"Lastly in this file, we will export ThemeContextProvider and Consumer instances. The Consumer will be a named export: ThemeContextConsumer to follow our naming convention.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"import React, {Component} from \\\"react\\\"\\nconst {Provider, Consumer} = React.createContext()\\n\\nclass ThemeContextProvider extends Component {\\n  state = {\\n    currentTheme: \\\"light\\\"\\n  }\\n\\n  render() {\\n    return (\\n      <Provider value={this.state.currentheme}>\\n        {this.props.children}\\n      </Provider>\\n    )\\n  }\\n}\\n\\nexport {ThemeContextProvider, Consumer as ThemeContextConsumer}\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Using themeContext.js:\")), mdx(\"p\", null, \"For any component to access the value of theme, we will need to connect it to the Context we created.\"), mdx(\"p\", null, \"In this example, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Button.js\"), \" will import from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"themeContext.js\"), \". To pull out the Consumer instance, we wrap the name in curly braces:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import {ThemeContextConsumer} from \\u201C./themeContext\\u201D\")), mdx(\"p\", null, \"Now this component can utilize the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ThemeContextConsumer\"), \" and access the theme value using a render prop (\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://reactjs.org/docs/render-props.html\"\n  }, \"Learn more\"), \"),\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"import React from \\\"react\\\"\\nimport {ThemeContextConsumer} from \\\"./themeContext\\\"\\n\\nfunction Button(props) {\\n    // currentTheme is stored in the Consumer\\n    return (\\n        <ThemeContextConsumer>\\n            {theme => (\\n                <button className={`${currentTheme}-theme`}>\\n                  Switch Theme\\n                </button>\\n            )}\\n        </ThemeContextConsumer>\\n    )    \\n}\\n\\nexport default Button\\n\")), mdx(\"p\", null, \"Whenever we need to access the theme value from context, we can import the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ThemeContextConsumer\"), \" and render elements through that. No more confusing props trails branching down the tree. Each element has a direct connection/path to a \\u2018global state\\u2019.\"), mdx(\"p\", null, \"For more information on the React Context API, visit the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://reactjs.org/docs/context.html\"\n  }, \"DOCS\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Using Context in React","date":"2021-03-02","tags":"react,context,javascript,webdev,framework,code","image":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACdElEQVQoz1XSaVNScRQG8Pu6qWlPG9Axlwo1HYE0TUcrhcl9DBfKcnpVfY/SyZRCKhU3EJIIDRFQ2ZfUC1wQuKCgLBoFuOTeOr3pj0tTH+DM7znnOdD9ud8Nrl93nd9vo19rrVu3LBsVpi+lU0tk/edCzccChS93bC5LPEMQ2tMFllQecoELx7MnYnu0GKYKikzO/Ljj+FZn26ZMb1YgayWGlZsTIZLuU6FqIV/uyZG6skachPe29HeW5DfGxP7JuD49tkt9tkMB3Zv9WQ9Y+06NdavSvF5jWqEYlkgfgtfVi7lyL1HizhA5UgetOL45gWtM5Bywncqo1zJoj6XatqssG3XIagsabHOGqnSLzWi41RGmar0Upbta7iqToo/UswS+Eduji9llT78cgwBLte/UWjfLzesNxhDLGeB7wvU6H3MmJPUvD3vCXFdQ4Q/TEF+3bSF3EIlmqjHMCHuKMQr9e6fiqaUHSPihKUTSBopUPrJiniRzF0qdBSJ7vgglCsxJLD24U3S7HLAn6BIIsNXTm5XIWplhpXgilMmDCTz4ylsDnq1J6VXhepRJnfIEhhjTNBD9hIPt0oDAZ16Nn2yTHn8hhgALti03rpbAy2Rt4CpbjWcMpT3tJ9IHcY1sXCPrIk2AezYQ/7gvtomL7VBEtctBYMAepYkgygG7Vw84cp7Mmz0+nymZxQvRNIE1mYckcuE49mRMr/4ve+z5yJHWYWif3f2KG+pF8BU5o+7M/WLNKQOm8xz4HEsf260B9US2ZYyCwIA93CKEAFsKLwO2SBu4pvTnyTzZUtflYTRjyHqJb8b9/xURli6JsC3CQ81DfwCjv4K1fpI3hwAAAABJRU5ErkJggg==","aspectRatio":1.7857142857142858,"src":"/static/9607716ba754f2a3817e73fa19265461/2a4de/using-context-in-react.png","srcSet":"/static/9607716ba754f2a3817e73fa19265461/6d161/using-context-in-react.png 150w,\n/static/9607716ba754f2a3817e73fa19265461/630fb/using-context-in-react.png 300w,\n/static/9607716ba754f2a3817e73fa19265461/2a4de/using-context-in-react.png 600w,\n/static/9607716ba754f2a3817e73fa19265461/db955/using-context-in-react.png 900w,\n/static/9607716ba754f2a3817e73fa19265461/f3583/using-context-in-react.png 1200w,\n/static/9607716ba754f2a3817e73fa19265461/43fa5/using-context-in-react.png 1366w","sizes":"(max-width: 600px) 100vw, 600px"}}}},"fields":{"slug":"/blog/using-context-in-react/","generatedCoverSlug":"images/using-context-in-react.png"}}},"pageContext":{"id":"20f941cf-7407-5f51-b5a9-95e3a48acafb"}},"staticQueryHashes":["1582092386","3897982121"]}